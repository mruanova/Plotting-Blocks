<!DOCTYPE html>
<html>

<head>
    <title>Mauricio Ruanova-Hurtado</title>
    <meta name="description" content="Mauricio Ruanova-Hurtado front-end web developer and software engineer career portfolio">
    <meta name="keywords" content="Mauricio Ruanova-Hurtado,mruanova,mauricio ruanova">
    <meta name="author" content="Mauricio Ruanova-Hurtado">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
        crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp"
        crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css?family=Sarpanch:900" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="css/styles.css">
    <link rel="icon" type="image/png" href="favicon.ico" />
</head>

<body>
    <div class="header">
        <div class="nav">
            <a target="_blank" class="link" title="https://www.linkedin.com/in/mruanova" href="https://www.linkedin.com/in/mruanova">
                <img src="img/linkedin.png" alt="Linkedin" class="button"> Linkedin
            </a>
        </div>
        <div class="nav">
            <a target="_blank" class="link" title="https://github.com/mruanova" href="https://github.com/mruanova">
                <img src="img/github.png" alt="Github" class="button"> Github
            </a>
        </div>
        <div class="nav">
            <a target="_blank" class="link" title="medium.com/@moreissues" href="https://medium.com/@moreissues">
                <img src="img/email.png" alt="medium.com/@moreissues" class="button"> Blog
            </a>
        </div>
        <div class="nav">
            <a target="_self" class="link" title="about" href="#" id="about">
                <img src="img/about.jpg" alt="About" class="button"> About
            </a>
        </div>
    </div>
    <div class="main">
        <div class="box col-sm-12 col-md-6 col-lg-4" style="padding: 0;margin: 0;">
            <div class="flex">
                <div class="flex1">
                </div>
                <div class="flex1" style="position: relative;">
                    <img src="img/mau.jpg" alt="mau">
                    <div class="mau">mau</div>
                    <div class="mauricioruanovahurtado">MAURICIO RUANOVA-HURTADO</div>
                    <div class="skill skill1">ASP.Net Core</div>
                    <div class="skill skill2">C# / VB</div>
                    <div class="skill skill3">React</div>
                    <div class="skill skill4">Node.js</div>
                    <div class="skill skill5">Python</div>
                    <div class="skill skill6">AWS</div>
                    <div class="skill skill7">Angular</div>
                    <div class="job">
                        <p>
                            This website in the front-end requests all the projects to a Web API with an Http Get method and renders the response in a list with
                            markers in Google Maps.
                        </p>
                        <p>
                            In the back-end a AWS Getway API executes a serverless Lambda function in Node.js that retrieves data from DynamoDB.
                        </p>
                        <p>Code available in my GitHub account.</p>
                    </div>
                    <div class="portfolio">Career Portfolio</div>
                </div>
                <div class="flex1">
                </div>
            </div>
        </div>
        <div class="box col-sm-12 col-md-6 col-lg-4" style="padding: 0;margin: 0;">
            <div class="flex">
                <div class="flex1">
                </div>
                <div class="flex1 white">
                    <div class="about">
                        Mauricio Ruanova-Hurtado ©
                        <a target="_blank" title="Zillow inspired demo in python django" href="https://youtu.be/qqfZpzWPw9w">Zillow</a> |
                        <a target="_blank" title="Google books" href="https://youtu.be/gPlAq-FR5VE">Corcoran</a>
                    </div>
                    <div>
                        <ul id="project_list">
                            <li>Loading...</li>
                        </ul>
                    </div>
                </div>
                <div class="flex1">
                </div>
            </div>
        </div>
        <div class="box col-sm-12 col-md-12 col-lg-4" style="padding: 0;margin: 0;">
            <div id="map"></div>
        </div>
    </div>
    <div id="myModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <p>Mauricio Ruanova-Hurtado Microsoft Certified Professional:
                <a target="_blank" title="https://www.linkedin.com/in/mruanova" href="https://www.linkedin.com/in/mruanova">Linkedin</a>
            </p>
            <p>BS in Computer Systems Engineering
                <a href="http://udem.edu.mx/itc/" target="_blank" title="Universidad de Monterrey">udem.edu.mx</a>
            </p>
            <p>Read my
                <a href="https://medium.com/@moreissues/">Blog</a> at Medium.</p>
            <p>Learn more about the technologies used in this website by visiting the following links:
                <a target="_blank" title="https://github.com/mruanova" href="https://github.com/mruanova/mruanova.com">Github</a>
            </p>
            <p>
                <a target="_blank" href="https://246gg84zg8.execute-api.us-west-2.amazonaws.com/prod/projects" title="Web API">API</a> |
                <a target="_blank" title="AWS Lambda function (node.js) and DynamoDB" href="https://youtu.be/NOQZ1OdJ-I4">DB</a> |
                <a target="_blank" title="Zillow inspired demo in python django" href="https://youtu.be/qqfZpzWPw9w">Zillow</a> |
                <a target="_blank" title="Google books" href="https://youtu.be/gPlAq-FR5VE">Corcoran</a>
            </p>
        </div>
    </div>
    <script>
        let modal = document.getElementById('myModal');
        let btn = document.getElementById("about");
        let span = document.getElementsByClassName("close")[0];

        // show modal ABOUT
        btn.onclick = function () {
            modal.style.display = "block";
        };

        // hide modal ABOUT on click X
        span.onclick = function () {
            modal.style.display = "none";
        };

        // hide modal ABOUT on click anywhere outside the modal
        window.onclick = function (event) {
            if (event.target == modal) {
                modal.style.display = "none";
            }
        };

        // google maps global variables
        let geocoder;
        let map;
        let markers = [];

        // initialize google maps
        function initialize() {
            geocoder = new google.maps.Geocoder();
            let latlng = new google.maps.LatLng(41.8838158, -87.6415424);
            let mapOptions = {
                zoom: 14,
                center: latlng
            };
            map = new google.maps.Map(document.getElementById('map'), mapOptions);
        };

        // add a marker in google maps for each project
        function addMarker(index, title, website, address) {
            console.log(index);
            console.log(title);
            console.log(website);
            console.log(address);
            geocoder.geocode({ 'address': address }, function (results, status) {
                if (status == 'OK') {
                    let marker = new google.maps.Marker({
                        map: map,
                        position: results[0].geometry.location,
                        title: title
                    });
                    markers.push(marker);
                    let contentString = '<div id="content">' +
                        '<div class="company">' + title + '</div>' +
                        '<div id="bodyContent">' +
                        '<div class="website">' + website + '</div>' +
                        '<div class="address">' + address + '</div>' +
                        '</div>' +
                        '</div>';
                    let infowindow = new google.maps.InfoWindow({
                        content: contentString
                    });
                    if (index === 1) {
                        infowindow.open(map, marker);
                    }
                    marker.addListener('click', function () {
                        infowindow.open(map, marker);
                    });
                }
            });
        };

        // google maps on click geo code
        function mapGeoCode(name, website, position, address) {
            geocoder.geocode({ 'address': address }, function (results, status) {
                if (status == 'OK') {
                    // set center of the map
                    map.setCenter(results[0].geometry.location);
                    for (let i = 0; i < markers.length; i++) {
                        markers[i].setMap(null);
                    }
                    markers.length = 0;
                    let marker = new google.maps.Marker({
                        map: map,
                        position: results[0].geometry.location,
                        title: name
                    });
                    let contentString = '<div id="content">' +
                        '<div class="link2">' + name + '</div>' +
                        '<div id="bodyContent">' +
                        '<div class="website">' + website + '</div>' +
                        '<div class="address">' + address + '</div>' +
                        '</div>' +
                        '</div>';
                    let infowindow = new google.maps.InfoWindow({
                        content: contentString
                    });
                    marker.addListener('click', function () {
                        infowindow.open(map, marker);
                    });
                    infowindow.open(map, marker);
                }
            });
        };
    </script>
    <script src="https://unpkg.com/react@15/dist/react.js"></script>
    <script src="https://unpkg.com/react-dom@15/dist/react-dom.js"></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
    <script type="text/jsx">
        class GetProjects extends React.Component {
            constructor() {
              super();
              const url = "https://246gg84zg8.execute-api.us-west-2.amazonaws.com/prod/projects";
              console.log("url", url);
              fetch(url).then(response => {return response.json();}).then(data => {
                let output = '';
                data.Items.sort(function (a, b) {
                    return parseFloat(a.ProjectId) - parseFloat(b.ProjectId);
                }).forEach(function(project){
                  addMarker(project.ProjectId, project.Name, project.Website, project.Address);
                  output += `<li onclick="mapGeoCode('${project.Name}','${project.Website}','${project.Position}','${project.Address}');">
                      <img src='img/${project.ProjectId}.jpg' alt='${project.ProjectId}' class='logo'>
                  <div class='company'>${project.Name}</div>
                  <div class='position'>${project.Position}</div>
                  <div class='address-link'>${project.Address}</div>
                  <div class="cb"></div></li>`;
                });
                document.getElementById('project_list').innerHTML = output;
              }).catch(err => {console.log("error", err);});
            }
            render() { return null;}
          }
          ReactDOM.render(<GetProjects />, document.getElementById("project_list"));
    </script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyATA9xz6PHfFxFlVLPd4ouYwB3BEQRBgPU&callback=initialize"></script>
</body>

</html>